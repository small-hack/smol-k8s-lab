
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://small-hack.github.io/smol-k8s-lab/k8s_apps/zitadel/">
      
      
        <link rel="prev" href="../vouch/">
      
      
        <link rel="next" href="../../k8s_distros/distros/">
      
      
      <link rel="icon" href="../../images/cloud_favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.20">
    
    
      
        <title>Zitadel - smol-k8s-lab docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e53b48f4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/fonts.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="spacechalk" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sensitive-values" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="smol-k8s-lab docs" class="md-header__button md-logo" aria-label="smol-k8s-lab docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 20q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48 1.18-1.53 3.08-1.95.63-2.3 2.5-3.72Q9.63 4 12 4q2.93 0 4.96 2.04Q19 8.07 19 11q1.73.2 2.86 1.5 1.14 1.28 1.14 3 0 1.88-1.31 3.19T18.5 20Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            smol-k8s-lab docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Zitadel
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="spacechalk" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/small-hack/smol-k8s-lab" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../installation/" class="md-tabs__link">
        
  
  
    
  
  Installation

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../cli/" class="md-tabs__link">
        
  
  
    
  
  CLI

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tui/create_modify_screens/" class="md-tabs__link">
          
  
  
    
  
  TUI

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../config_file/" class="md-tabs__link">
        
  
  
    
  
  Config File

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Apps

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../k8s_distros/distros/" class="md-tabs__link">
          
  
  
    
  
  Supported Distros

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../k8s_toolbox/toolbox/" class="md-tabs__link">
          
  
  
    
  
  Tools

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../roadmap/" class="md-tabs__link">
        
  
  
    
  
  RoadMap

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="smol-k8s-lab docs" class="md-nav__button md-logo" aria-label="smol-k8s-lab docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 20q-2.28 0-3.89-1.57Q1 16.85 1 14.58q0-1.95 1.17-3.48 1.18-1.53 3.08-1.95.63-2.3 2.5-3.72Q9.63 4 12 4q2.93 0 4.96 2.04Q19 8.07 19 11q1.73.2 2.86 1.5 1.14 1.28 1.14 3 0 1.88-1.31 3.19T18.5 20Z"/></svg>

    </a>
    smol-k8s-lab docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/small-hack/smol-k8s-lab" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    TUI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            TUI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tui/create_modify_screens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create and Modify Clusters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tui/distro_screen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K8s Distros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tui/apps_screen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K8s Apps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tui/tui_config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tui/help_screen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Help
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tui/confirmation_screen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Confirmation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../config_file/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Config File
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Apps
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Apps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Argo CD
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Argo CD
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../argocd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Argo CD App
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../appset-secret-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Appset Secret Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cert_manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cert Manager
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cnpg_operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CloudNative Postgress Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core_dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core DNS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_6" >
        
          
          <label class="md-nav__link" for="__nav_6_6" id="__nav_6_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    External Secrets
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_6">
            <span class="md-nav__icon md-icon"></span>
            External Secrets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../external-secrets-operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External Secrets Operator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bitwarden_eso_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bitwarden ESO Provider
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_7" >
        
          
          <label class="md-nav__link" for="__nav_6_7" id="__nav_6_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Experimental
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_7">
            <span class="md-nav__icon md-icon"></span>
            Experimental
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/cilium/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cilium
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/forgejo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forgejo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/ghost/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ghost
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/harbor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Harbor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/infisical/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Infisical
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/kepler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kepler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/kyverno/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kyverno
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../jellyfin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jellyfin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../juicefs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    JuiceFS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/longhorn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Longhorn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/openbao/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Openbao
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/minio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MinIO
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/tempo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tempo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/writefreely/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    WriteFreely
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../experimental/postgres_operator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zalando Postgress Operator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generic_app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic App
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generic_device_plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic Device Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gotosocial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GoToSocial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../grafana_monitoring_stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana Monitoring Stack
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../home_assistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home Assistant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ingress_nginx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingress Nginx
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k8tz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K8tz
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../k8up/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K8up
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kubevirt_community_stack/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubevirt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../libretranslate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LibreTranslate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mastodon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mastodon
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../matrix/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Matrix
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../metallb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MetalLB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nvidia_device_plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NVIDIA Device Plugin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../netmaker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Netmaker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nextcloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nextcloud
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../peertube/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PeerTube
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../prometheus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prometheus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../seaweedfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SeaweedFS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../valkey/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Valkey
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../valkey_cluster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Valkey Cluster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vouch/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vouch
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Zitadel
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Zitadel
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sensitive-values" class="md-nav__link">
    <span class="md-ellipsis">
      Sensitive values
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backups" class="md-nav__link">
    <span class="md-ellipsis">
      Backups
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restores" class="md-nav__link">
    <span class="md-ellipsis">
      Restores
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Restores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sensitive-values-before-v500" class="md-nav__link">
    <span class="md-ellipsis">
      Sensitive values before v5.0.0
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-config" class="md-nav__link">
    <span class="md-ellipsis">
      Example config
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Supported Distros
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Supported Distros
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/distros/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Intro
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    K3s
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            K3s
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/k3s/k3s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/k3s/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QuickStart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/k3s/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/k3s/sqllite_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extras
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    K3d
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            K3d
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/k3d/k3d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Kind
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Kind
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/kind/kind/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/kind/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QuickStart
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_distros/kind/tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_toolbox/toolbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_toolbox/helm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Helm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_toolbox/k9s/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    K9s
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../k8s_toolbox/kubectl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Kubectl
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RoadMap
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>Zitadel</h1>

<div><p><a href="https://zitadel.com/">Zitadel</a> is an Identity Management solution that includes acting as an OIDC provider.</p>
<p><a href="https://github.com/small-hack/argocd-apps/assets/2389292/467fd0cf-36a7-47fd-80b8-4bd051ec0157">
<img width="900" alt="screenshot of Argo CD web interface's tree view of a zitadel app of apps. The main app of apps branches off into the following appsets: external secrets, postgres, s3 provider, s3 PVC, and zitadel web app. Each of those then branches off into a similarly named app." src="https://github.com/small-hack/argocd-apps/assets/2389292/467fd0cf-36a7-47fd-80b8-4bd051ec0157">
</a></p>
<details>
  <summary>Zitadel web app (official zitadel helm chart) screenshot</summary>

  <a href="https://github.com/small-hack/argocd-apps/assets/2389292/e2bf4838-85cf-4f5b-9e1a-b98756fc357c">
  <img width="900" alt="screenshot of Argo CD web interface's tree view of a zitadel web app in tree view mode. Includes the following child resources: zitadel config map, zitadel service, zitadel service account, zitadel deployment, zitadel init job, zitadel setup job, zitadel service monitor, zitadel ingress, zitadel role, zitadel role binding. The zitadel service then branches off into zitadel endpoint and zitadel endpointslice. The zitadel deployment branches off into a zitadel replica set which branches off into a zitadel pod. The zitadel init and setup jobs also branch off into their own completed pods, and finally, the zitadel ingress resource branches off into a zitadel TLS certificate" src="https://github.com/small-hack/argocd-apps/assets/2389292/e2bf4838-85cf-4f5b-9e1a-b98756fc357c">
  </a>

</details>

<details>
  <summary>Argo CD Zitadel Postgresql cluster screenshot</summary>

  <a href="https://github.com/small-hack/argocd-apps/assets/2389292/366d40e5-2720-4cd8-a5e0-08025909a60d">
  <img width="900" alt="screenshot of Argo CD web interface's tree view of a zitadel postgresql cluster in tree view. It shows the following secrets and coorsponding certificates: client cert, postgres cert, server secret, zitadel cert. Each of those then has their own cert request resource. Afte rthat there's 3 tls issuers: client ca, selfsigned, and server ca. Next there is the cluster, which branches off into a pvc, pod, secret for the app, secret for the super user, service for read, service for read only, service for read write, service account, pod disruption budget for the primary, role, and role binding" src="https://github.com/small-hack/argocd-apps/assets/2389292/366d40e5-2720-4cd8-a5e0-08025909a60d">
  </a>

</details>

<p>Zitadel is one of the more complex apps that <code>smol-k8s-lab</code> supports out of the box. For initialization, you need to pass in the following info:</p>
<ul>
<li><code>username</code> - name of the first admin user to create</li>
<li><code>email</code> - email of the first admin user</li>
<li><code>first name</code> - first name of the first admin user</li>
<li><code>last name</code> - last name of the first admin user</li>
<li><code>gender</code> - optional - the gender of the first admin user</li>
</ul>
<p>The above values are used to create an initial user. We also create Argo CD admin and users groups to be used with an Argo CD OIDC app that we prepare. If Vouch is enabled, we also create an OIDC app for that as well as a user group. You initial user is automatically added to all the groups we create.</p>
<p>Finally, we create a groupsClaim so that all queries for auth also process the user's groups.</p>
<p>In addition to those one time init values, we also require a hostname to use for the Zitadel API and web frontend.</p>
<h2 id="sensitive-values">Sensitive values</h2>
<p>Sensitive values can be provided via environment variables using a <code>value_from</code> map on any value under <code>init.values</code> or <code>backups</code>. Example of both providing s3 credentials and restic repo password as well as smtp credentials via sensitive values:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">apps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">zitadel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">init</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Switch to false if you don't want to create initial secrets or use the</span>
<span class="w">      </span><span class="c1"># API via a service account to create the above described resources</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">values</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># mail server, must include port! e.g. mymailserver.com:587</span>
<span class="w">        </span><span class="nt">smtp_host</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_HOST</span>
<span class="w">        </span><span class="c1"># mail user</span>
<span class="w">        </span><span class="nt">smtp_user</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_USER</span>
<span class="w">        </span><span class="c1"># mail password</span>
<span class="w">        </span><span class="nt">smtp_password</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_PASSWORD</span>
<span class="w">        </span><span class="c1"># mail from address</span>
<span class="w">        </span><span class="nt">smtp_from_address</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_FROM_ADDRESS</span>
<span class="w">        </span><span class="c1"># mail from name</span>
<span class="w">        </span><span class="nt">smtp_from_name</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_FROM_NAME</span>
<span class="w">        </span><span class="c1"># mail reply to address</span>
<span class="w">        </span><span class="nt">smtp_reply_to_address</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_REPLY_TO_ADDRESS</span>
<span class="w">    </span><span class="nt">backups</span><span class="p">:</span>
<span class="w">      </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">        </span><span class="nt">secret_access_key</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># can be any env var</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_S3_BACKUP_SECRET_KEY</span>
<span class="w">        </span><span class="nt">access_key_id</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># can be any env var</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_S3_BACKUP_ACCESS_ID</span>
<span class="w">      </span><span class="nt">restic_repo_password</span><span class="p">:</span>
<span class="w">        </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">          </span><span class="c1"># can be any env var</span>
<span class="w">          </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_RESTIC_REPO_PASSWORD</span>
</code></pre></div></td></tr></table></div>
<h2 id="backups">Backups</h2>
<p>Backups are a new feature in <code>v5.0.0</code> that enable backing up your postgres cluster and PVCs via restic to a configurable remote S3 bucket. Backups require <code>init.enabled</code> set to <code>true</code> and you must ensure you're using our pre-configured <code>argo.repo</code>. We support both instant backups, and scheduled backups.</p>
<p>When running a zitadel backup, we will initiate a <a href="https://cloudnative-pg.io/documentation/1.23/backup/#on-demand-backups">Cloud Native Postgresql backup</a> to your local seaweedfs cluster that we setup for you, and then wait until the last wal archive associated with that backup is complete. After that, we start a k8up backup job to backup all of your important PVCs to your configured s3 bucket.</p>
<p>To use the backups feature, you'll need to configure the values below.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">apps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">zitadel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">backups</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># cronjob syntax schedule to run zitadel seaweedfs pvc backups</span>
<span class="w">      </span><span class="nt">pvc_schedule</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10 0 * * *</span>
<span class="w">      </span><span class="c1"># cronjob syntax (with SECONDS field) for zitadel postgres backups</span>
<span class="w">      </span><span class="c1"># must happen at least 10 minutes before pvc backups, to avoid corruption</span>
<span class="w">      </span><span class="c1"># due to missing files. This is because the cnpg backup shows as completed</span>
<span class="w">      </span><span class="c1"># before it actually is, due to the wal archive it lists as it's end not</span>
<span class="w">      </span><span class="c1"># being in the backup yet</span>
<span class="w">      </span><span class="nt">postgres_schedule</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0 0 0 * * *</span>
<span class="w">      </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># these are for pushing remote backups of your local s3 storage, for speed and cost optimization</span>
<span class="w">        </span><span class="nt">endpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3.eu-central-003.backblazeb2.com</span>
<span class="w">        </span><span class="nt">bucket</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-zitadel-backup-bucket</span>
<span class="w">        </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">eu-central-003</span>
<span class="w">        </span><span class="nt">secret_access_key</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_S3_BACKUP_SECRET_KEY</span>
<span class="w">        </span><span class="nt">access_key_id</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_S3_BACKUP_ACCESS_ID</span>
<span class="w">      </span><span class="nt">restic_repo_password</span><span class="p">:</span>
<span class="w">        </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">          </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_RESTIC_REPO_PASSWORD</span>
</code></pre></div></td></tr></table></div>
<h2 id="restores">Restores</h2>
<p>Restores are a new feature in <code>v5.0.0</code> that enable restoring your cluster via restic from a configurable remote S3 bucket. This feature was finally tested with Zitadel in <code>v5.6.0</code>. If you have <code>init.enabled</code> set to <code>true</code> and you're using our pre-configured <code>argo.repo</code>, we support restoring both your Postgresql cluster and Persistent Volume Claims.</p>
<p>A restore is a kind of initialization process, so it lives under the <code>init</code> section of the config for your application, in this case, Zitadel. Here's an example you could use in your <code>~/.config/smol-k8s-lab/config.yaml</code>:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">apps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">zitadel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">init</span><span class="p">:</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">restore</span><span class="p">:</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">cnpg_restore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">restic_snapshot_ids</span><span class="p">:</span>
<span class="w">          </span><span class="c1"># these can all be any restic snapshot ID, but default to latest</span>
<span class="w">          </span><span class="nt">seaweedfs_volume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
<span class="w">          </span><span class="nt">seaweedfs_filer</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
</code></pre></div></td></tr></table></div>
<p>The restore process will put your secrets into place, then restore your seaweedfs cluster first, followed by your postgresql cluster, and then it will install your zitadel argocd app as normal.</p>
<h4 id="sensitive-values-before-v500">Sensitive values before <code>v5.0.0</code></h4>
<p><code>smol-k8s-lab</code> did not originally support the <code>value_from</code> map. If you're using a version <em>before <code>v5.0.0</code></em>, to avoid having to provide sensitive values every time you run <code>smol-k8s-lab</code> with zitadel enabled, set up the following environment variables:</p>
<ul>
<li><code>ZITADEL_S3_BACKUP_ACCESS_ID</code></li>
<li><code>ZITADEL_S3_BACKUP_SECRET_KEY</code></li>
<li><code>ZITADEL_RESTIC_REPO_PASSWORD</code></li>
</ul>
<h2 id="example-config">Example config</h2>
<p>Here's a full working config for zitadel. (If this isn't working, please submit an issue on our GitHub!)</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">  1</span>
<span class="normal">  2</span>
<span class="normal">  3</span>
<span class="normal">  4</span>
<span class="normal">  5</span>
<span class="normal">  6</span>
<span class="normal">  7</span>
<span class="normal">  8</span>
<span class="normal">  9</span>
<span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">apps</span><span class="p">:</span>
<span class="w">  </span><span class="nt">zitadel</span><span class="p">:</span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">      </span><span class="no">[link=https://zitadel.com/opensource]ZITADEL[/link] is an open source self hosted IAM platform for the cloud era</span>

<span class="w">      </span><span class="no">smol-k8s-lab supports initialization of:</span>
<span class="w">        </span><span class="no">- an admin service account</span>
<span class="w">        </span><span class="no">- a human admin user (including an autogenerated password)</span>
<span class="w">        </span><span class="no">- a project with a name of your chosing</span>
<span class="w">        </span><span class="no">- 2 OIDC applications for Argo CD and Vouch</span>
<span class="w">        </span><span class="no">- 2 Argo CD groups (admins and users)</span>
<span class="w">        </span><span class="no">- 1 vouch groups</span>
<span class="w">        </span><span class="no">- groupsClaim action to enforce group roles on authentication</span>
<span class="w">        </span><span class="no">- updates your appset_secret_plugin secret and refreshes the pod</span>

<span class="w">      </span><span class="no">The default app will also deploy SeaweedFS to backup your database which in turn is backed up to a remote s3 provider of your choice.</span>

<span class="w">      </span><span class="no">To provide sensitive values via environment variables to smol-k8s-lab use:</span>
<span class="w">        </span><span class="no">- ZITADEL_S3_BACKUP_ACCESS_ID</span>
<span class="w">        </span><span class="no">- ZITADEL_S3_BACKUP_SECRET_KEY</span>
<span class="w">        </span><span class="no">- ZITADEL_RESTIC_REPO_PASSWORD</span>
<span class="w">        </span><span class="no">- ZITADEL_SMTP_HOST</span>
<span class="w">        </span><span class="no">- ZITADEL_SMTP_USER</span>
<span class="w">        </span><span class="no">- ZITADEL_SMTP_PASSWORD</span>
<span class="w">        </span><span class="no">- ZITADEL_SMTP_FROM_ADDRESS</span>
<span class="w">        </span><span class="no">- ZITADEL_SMTP_FROM_NAME</span>
<span class="w">        </span><span class="no">- ZITADEL_SMTP_REPLY_TO_ADDRESS</span>
<span class="w">    </span><span class="nt">init</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Switch to false if you don't want to create initial secrets or use the</span>
<span class="w">      </span><span class="c1"># API via a service account to create the above described resources</span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">      </span><span class="nt">values</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># login username of admin user</span>
<span class="w">        </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="s">'certainlynotadog'</span>
<span class="w">        </span><span class="c1"># email of admin user</span>
<span class="w">        </span><span class="nt">email</span><span class="p">:</span><span class="w"> </span><span class="s">'notadog@humans.com'</span>
<span class="w">        </span><span class="c1"># first name of admin user</span>
<span class="w">        </span><span class="nt">first_name</span><span class="p">:</span><span class="w"> </span><span class="s">'Dogsy'</span>
<span class="w">        </span><span class="c1"># last name of admin user</span>
<span class="w">        </span><span class="nt">last_name</span><span class="p">:</span><span class="w"> </span><span class="s">'Dogerton'</span>
<span class="w">        </span><span class="c1"># options: GENDER_UNSPECIFIED, GENDER_MALE, GENDER_FEMALE, GENDER_DIVERSE</span>
<span class="w">        </span><span class="c1"># more coming soon, see: https://github.com/zitadel/zitadel/issues/6355</span>
<span class="w">        </span><span class="nt">gender</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GENDER_UNSPECIFIED</span>
<span class="w">        </span><span class="c1"># name of the default project to create OIDC applications in</span>
<span class="w">        </span><span class="nt">project</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">core</span>
<span class="w">        </span><span class="c1"># mail server, must include port! e.g. mymailserver.com:587</span>
<span class="w">        </span><span class="nt">smtp_host</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_HOST</span>
<span class="w">        </span><span class="c1"># mail user</span>
<span class="w">        </span><span class="nt">smtp_user</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_USER</span>
<span class="w">        </span><span class="c1"># mail password</span>
<span class="w">        </span><span class="nt">smtp_password</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_PASSWORD</span>
<span class="w">        </span><span class="c1"># mail from address</span>
<span class="w">        </span><span class="nt">smtp_from_address</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_FROM_ADDRESS</span>
<span class="w">        </span><span class="c1"># mail from name</span>
<span class="w">        </span><span class="nt">smtp_from_name</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_FROM_NAME</span>
<span class="w">        </span><span class="c1"># mail reply to address</span>
<span class="w">        </span><span class="nt">smtp_reply_to_address</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_SMTP_REPLY_TO_ADDRESS</span>
<span class="w">      </span><span class="nt">restore</span><span class="p">:</span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">        </span><span class="nt">cnpg_restore</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">        </span><span class="nt">restic_snapshot_ids</span><span class="p">:</span>
<span class="w">          </span><span class="nt">seaweedfs_volume</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
<span class="w">          </span><span class="nt">seaweedfs_filer</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">latest</span>
<span class="w">    </span><span class="nt">backups</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># cronjob syntax schedule to run zitadel seaweedfs pvc backups</span>
<span class="w">      </span><span class="nt">pvc_schedule</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10 0 * * *</span>
<span class="w">      </span><span class="c1"># cronjob syntax (with SECONDS field) for zitadel postgres backups</span>
<span class="w">      </span><span class="c1"># must happen at least 10 minutes before pvc backups, to avoid corruption</span>
<span class="w">      </span><span class="c1"># due to missing files. This is because the cnpg backup shows as completed</span>
<span class="w">      </span><span class="c1"># before it actually is, due to the wal archive it lists as it's end not</span>
<span class="w">      </span><span class="c1"># being in the backup yet</span>
<span class="w">      </span><span class="nt">postgres_schedule</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0 0 0 * * *</span>
<span class="w">      </span><span class="c1"># these are for pushing backups of your local s3 storage to a remote s3 bucket, which</span>
<span class="w">      </span><span class="c1"># is separate from your postgresql backups, so that postgresql can backup wal archives</span>
<span class="w">      </span><span class="c1"># every 5 minutes with speed and then for and then for cost optimization, only backup</span>
<span class="w">      </span><span class="c1"># all achives gathered during the day to the remote s3 store AFTER the nightly</span>
<span class="w">      </span><span class="c1"># postgresql backups.</span>
<span class="w">      </span><span class="nt">s3</span><span class="p">:</span>
<span class="w">        </span><span class="nt">endpoint</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">s3.eu-central-003.backblazeb2.com</span>
<span class="w">        </span><span class="nt">bucket</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">my-zitadel-backup-bucket</span>
<span class="w">        </span><span class="nt">region</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">eu-central-003</span>
<span class="w">        </span><span class="nt">secret_access_key</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_S3_BACKUP_SECRET_KEY</span>
<span class="w">        </span><span class="nt">access_key_id</span><span class="p">:</span>
<span class="w">          </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">            </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_S3_BACKUP_ACCESS_ID</span>
<span class="w">      </span><span class="nt">restic_repo_password</span><span class="p">:</span>
<span class="w">        </span><span class="nt">value_from</span><span class="p">:</span>
<span class="w">          </span><span class="nt">env</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ZITADEL_RESTIC_REPO_PASSWORD</span>
<span class="w">    </span><span class="nt">argo</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># secrets keys to make available to ArgoCD ApplicationSets</span>
<span class="w">      </span><span class="nt">secret_keys</span><span class="p">:</span>
<span class="w">        </span><span class="c1"># FQDN to use for zitadel</span>
<span class="w">        </span><span class="nt">hostname</span><span class="p">:</span><span class="w"> </span><span class="s">'zitadel.gooddogs.com'</span>
<span class="w">        </span><span class="c1"># type of database to use: postgresql or cockroachdb</span>
<span class="w">        </span><span class="nt">database_type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgresql</span>
<span class="w">        </span><span class="c1"># set the local s3 provider for zitadel's database backups. can be minio or seaweedfs</span>
<span class="w">        </span><span class="nt">s3_provider</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">seaweedfs</span>
<span class="w">        </span><span class="c1"># local s3 endpoint for postgresql backups, backed up constantly</span>
<span class="w">        </span><span class="nt">s3_endpoint</span><span class="p">:</span><span class="w"> </span><span class="s">'zitadel-s3.gooddogs.com'</span>
<span class="w">        </span><span class="c1"># capacity for the PVC backing your local s3 instance</span>
<span class="w">        </span><span class="nt">s3_pvc_capacity</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2Gi</span>
<span class="w">      </span><span class="c1"># repo to install the Argo CD app from</span>
<span class="w">      </span><span class="c1"># git repo to install the Argo CD app from</span>
<span class="w">      </span><span class="nt">repo</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://github.com/small-hack/argocd-apps</span>
<span class="w">      </span><span class="c1"># path in the argo repo to point to. Trailing slash very important!</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zitadel/app_of_apps/</span>
<span class="w">      </span><span class="c1"># either the branch or tag to point at in the argo repo above</span>
<span class="w">      </span><span class="nt">revision</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>
<span class="w">      </span><span class="c1"># kubernetes cluster to install the k8s app into, defaults to Argo CD default</span>
<span class="w">      </span><span class="nt">cluster</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://kubernetes.default.svc</span>
<span class="w">      </span><span class="c1"># namespace to install the k8s app in</span>
<span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zitadel</span>
<span class="w">      </span><span class="c1"># recurse directories in the provided git repo</span>
<span class="w">      </span><span class="nt">directory_recursion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span>
<span class="w">      </span><span class="c1"># source repos for Argo CD App Project (in addition to argo.repo)</span>
<span class="w">      </span><span class="nt">project</span><span class="p">:</span>
<span class="w">        </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">zitadel</span>
<span class="w">        </span><span class="nt">source_repos</span><span class="p">:</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://charts.zitadel.com</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://zitadel.github.io/zitadel-charts</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://small-hack.github.io/cloudnative-pg-cluster-chart</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://operator.min.io/</span>
<span class="w">          </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://seaweedfs.github.io/seaweedfs/helm</span>
<span class="w">        </span><span class="nt">destination</span><span class="p">:</span>
<span class="w">          </span><span class="nt">namespaces</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[]</span>
</code></pre></div></td></tr></table></div>
<p>You can learn more about our Zitadel Argo CD Application at <a href="https://github.com/small-hack/argocd-apps/tree/main/zitadel">small-hack/argocd-apps/zitadel</a>.</p></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.path", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "tables", "toc.integrate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>